<template>
    <!-- Loading State -->
    <template if:true={isLoading}>
        <div class="slds-var-p-horizontal_small slds-text-align_right">
            <lightning-spinner alternative-text="Loading cart..." size="x-small"></lightning-spinner>
        </div>
    </template>

    <!-- Cart Display -->
    <template if:false={isLoading}>
        <div class="slds-var-p-horizontal_small slds-text-align_right mini-cart-container">
            <!-- Cart Icon with Item Count -->
            <div class="cart-icon-container">
                <lightning-icon 
                    icon-name="utility:cart" 
                    size="small" 
                    alternative-text="Shopping Cart"
                    class="cart-icon">
                </lightning-icon>
                
                <!-- Item Count Badge -->
                <template if:true={hasItems}>
                    <span class="slds-badge slds-badge_inverse cart-badge">
                        {itemCount}
                    </span>
                </template>
                
                <!-- Empty Cart State -->
                <template if:false={hasItems}>
                    <span class="slds-badge slds-badge_lightest cart-badge-empty">
                        0
                    </span>
                </template>
            </div>
        </div>
    </template>

    <!-- Error State (Hidden by default, but available for debugging) -->
    <template if:true={hasError}>
        <div class="slds-var-p-horizontal_small slds-text-align_right">
            <lightning-icon 
                icon-name="utility:error" 
                size="x-small" 
                alternative-text="Cart Error"
                class="error-icon">
            </lightning-icon>
        </div>
    </template>
</template>
